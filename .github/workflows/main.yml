name: Test Composite Action

on: [push]

jobs: 
  local-action:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        id: checkout
        uses: actions/checkout@v3

      - name: Notificacion
        uses: rtCamp/action-slack-notify@v2.1.1
        #if: success() failure() always()
        #if: steps.checkout.outcome == 'success'
        if: steps.checkout.outcome == 'success'
        env: 
          SLACK_WEBHOOK: ${{  secrets.WEBHOOK_URL}}
        with: 
          author_name: "Action"
          fields: repo.message.commit.author.action.eventName